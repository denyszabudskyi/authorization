"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)};function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(){for(var e=["DocumentType","Element","CharacterData"],t=function(){null!=this.parentNode&&this.parentNode.removeChild(this)},i=0;i<e.length;i++){var n=e[i];window[n]&&!window[n].prototype.remove&&(window[n].prototype.remove=t)}}(),function(e){var t=setTimeout;function n(){}function o(e){if("object"!==_typeof(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(i,n){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,o._immediateFn(function(){var e,t=1===i._state?n.onFulfilled:n.onRejected;if(null!==t){try{e=t(i._value)}catch(e){return void a(n.promise,e)}s(n.promise,e)}else(1===i._state?s:a)(n.promise,i._value)})):i._deferreds.push(n)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e)){var i=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof i)return void c((n=i,r=e,function(){n.apply(r,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){a(t,e)}var n,r}function a(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function c(e,t){var i=!1;try{e(function(e){i||(i=!0,s(t,e))},function(e){i||(i=!0,a(t,e))})}catch(e){if(i)return;i=!0,a(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new u(e,t,i)),i},o.all=function(e){var a=Array.prototype.slice.call(e);return new o(function(r,o){if(0===a.length)return r([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(i,e){try{if(e&&("object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){t(i,e)},o)}a[i]=e,0==--s&&r(a)}catch(e){o(e)}}(e,a[e])})},o.resolve=function(t){return t&&"object"===(void 0===t?"undefined":_typeof(t))&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(i){return new o(function(e,t){t(i)})},o.race=function(r){return new o(function(e,t){for(var i=0,n=r.length;i<n;i++)r[i].then(e,t)})},o._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){t(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=o:e.Promise||(e.Promise=o)}(window),function(e){e.Promise||(e.Promise=Promise);function u(t,e){return"string"==typeof t?t:(e="post"===e.toLowerCase()?"":"?",Array.isArray(t)?e+t.map(function(e){return e.name+"="+e.value}).join("&"):e+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"))}function l(e){var t,i,n=e.url,r=e.method,o=e.data,s=e.debug,a=e.callback,l=e.error;s?a("test"):(t=!1!==e.async,i=new XMLHttpRequest,s=u(o,"get"),e=null,"post"===r.toLowerCase()&&(e=u(o,"post"),s=""),i.open(r,n+s,t),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===this.readyState&&(200===this.status?a(this.responseText):l&&l(this.responseText))},i.send(e))}function t(e,t){this.options=t||{},this.rules=this.options.rules||{},this.messages=this.options.messages||void 0,this.colorWrong=this.options.colorWrong||"#B81111",this.result={},this.elements=[],this.tooltip=this.options.tooltip||{},this.tooltipFadeOutTime=this.tooltip.fadeOutTime||5e3,this.tooltipFadeOutClass=this.tooltip.fadeOutClass||"just-validate-tooltip-hide",this.tooltipSelectorWrap=document.querySelectorAll(this.tooltip.selectorWrap).length?document.querySelectorAll(this.tooltip.selectorWrap):document.querySelectorAll(".just-validate-tooltip-container"),this.bindHandlerKeyup=this.handlerKeyup.bind(this),this.submitHandler=this.options.submitHandler||void 0,this.invalidFormCallback=this.options.invalidFormCallback||void 0,this.promisesRemote=[],this.isValidationSuccess=!1,this.focusWrongField=this.options.focusWrongField||!1,this.REGEXP={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,zip:/^\d{5}(-\d{4})?$/,phone:/^([0-9]( |-)?)?(\(?[0-9]{3}\)?|[0-9]{3})( |-)?([0-9]{3}( |-)?[0-9]{4}|[a-zA-Z0-9]{7})$/,password:/[^\w\d]*(([0-9]+.*[A-Za-z]+.*)|[A-Za-z]+.*([0-9]+.*))/,strengthPass:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]/},this.DEFAULT_REMOTE_ERROR="Error",this.state={tooltipsTimer:null},this.setForm(document.querySelector(e))}var p="required",v="minLength",g="maxLength",y="password",b="strength",E="function";t.prototype={defaultRules:{email:{required:!0,email:!0},name:{required:!0,minLength:3,maxLength:15},text:{required:!0,maxLength:300,minLength:5},password:{required:!0,password:!0,minLength:4,maxLength:8},zip:{required:!0,zip:!0},phone:{phone:!0}},defaultMessages:{required:"The field is required",email:"Please, type a valid email",maxLength:"The field must contain a maximum of :value characters",minLength:"The field must contain a minimum of :value characters",password:"Password is not valid",remote:"Email already exists",strength:"Password must contents at least one uppercase letter, one lowercase letter and one number",function:"Function returned false"},handlerKeyup:function(e){e=e.target,e={name:e.getAttribute("data-validate-field"),value:e.value};delete this.result[e.name],this.validateItem({name:e.name,value:e.value,group:[],isKeyupChange:!0}),this.renderErrors()},setterEventListener:function(e,t,i,n){switch("keyup"===t&&(i=this.bindHandlerKeyup),n){case"add":e.addEventListener(t,i);break;case"remove":e.removeEventListener(t,i)}},getElementsRealValue:function(){for(var e,t=this.$form.querySelectorAll("*"),i={},n=0,r=t.length;n<r;++n)(e=t[n].getAttribute("name"))&&("checkbox"!==t[n].type?i[e]=t[n].value:i[e]=t[n].checked);return i},validationFailed:function(){this.invalidFormCallback&&this.invalidFormCallback(this.result);var e=document.querySelector(".js-validation--error-field");this.focusWrongField&&e&&e.focus&&e.focus()},validationSuccess:function(){var e;0===Object.keys(this.result).length&&(this.isValidationSuccess=!1,this.submitHandler?(e=this.getElementsRealValue(),this.submitHandler(this.$form,e,l)):this.$form.submit())},setForm:function(e){var t=this;this.$form=e,this.$form.setAttribute("novalidate","novalidate"),this.$form.addEventListener("submit",function(e){e.preventDefault(),t.result=[],t.getElements(),t.promisesRemote.length?Promise.all(t.promisesRemote).then(function(){t.promisesRemote=[],t.isValidationSuccess?t.validationSuccess():t.validationFailed()}):t.isValidationSuccess?t.validationSuccess():t.validationFailed()})},isEmail:function(e){return this.REGEXP.email.test(e)},isZip:function(e){return this.REGEXP.zip.test(e)},isPhone:function(e){return this.REGEXP.phone.test(e)},isPassword:function(e){return this.REGEXP.password.test(e)},isEmpty:function(e){var t=e;return!(t=e.trim?e.trim():t)},checkLengthMax:function(e,t){return e.length<=t},checkLengthMin:function(e,t){return e.length>=t},checkStrengthPass:function(e){return this.REGEXP.strengthPass.test(e)},getElements:function(){var s=this,a=this.$form.querySelectorAll("[data-validate-field]");this.elements=[];for(var e=0,t=a.length;e<t;++e)!function(e){var t=a[e],i=t.getAttribute("data-validate-field"),n=t.value,r=!1,o=[];"checkbox"===t.type&&(n=t.checked||"",t.addEventListener("change",function(e){e=e.target,e={name:e.getAttribute("data-validate-field"),value:e.checked};delete s.result[e.name],s.validateItem({name:e.name,value:e.value,group:[]}),s.renderErrors()})),"radio"===t.type&&((e=s.elements.filter(function(e){if(e.name===i)return e})[0])?(e.group.push(t.checked),r=!0):o.push(t.checked),t.addEventListener("change",function(e){e=e.target,e={name:e.getAttribute("data-validate-field"),value:e.checked};delete s.result[e.name],s.validateItem({name:e.name,value:e.value,group:[]}),s.renderErrors()})),s.setterEventListener(t,"keyup",s.handlerKeyup,"add"),r||s.elements.push({name:i,value:n,group:o})}(e);this.validateElements()},validateRequired:function(e){return!this.isEmpty(e)},validateEmail:function(e){return this.isEmail(e)},validatePhone:function(e){return this.isPhone(e)},validateMinLength:function(e,t){return this.checkLengthMin(e,t)},validateMaxLength:function(e,t){return this.checkLengthMax(e,t)},validateStrengthPass:function(e){return this.checkStrengthPass(e)},validatePassword:function(e){return this.isPassword(e)},validateZip:function(e){return this.isZip(e)},validateRemote:function(e){var i=e.value,n=e.name,r=e.url,o=e.successAnswer,s=e.sendParam,a=e.method;return new Promise(function(t){l({url:r,method:a,data:_defineProperty({},s,i),async:!0,callback:function(e){e.toLowerCase()===o.toLowerCase()&&t("ok"),t({type:"incorrect",name:n})},error:function(){t({type:"error",name:n})}})})},generateMessage:function(e,t,i){var n=this.messages||this.defaultMessages,e=n[t]&&n[t][e]||this.messages&&"string"==typeof this.messages[t]&&n[t]||this.defaultMessages[e]||this.DEFAULT_REMOTE_ERROR;i&&(e=e.replace(":value",i.toString())),this.result[t]={message:e}},validateElements:function(){var t=this;this.lockForm(),this.elements.forEach(function(e){t.validateItem({name:e.name,value:e.value,group:e.group})}),this.promisesRemote.length?Promise.all(this.promisesRemote).then(function(e){e.forEach(function(e){"ok"!==e&&("error"===e.type&&alert("Server error occured. Please try later."),t.generateMessage("remote",e.name)),t.renderErrors()})}):this.renderErrors()},validateItem:function(e){var t=this,i=e.name,n=e.group,r=e.value,o=e.isKeyupChange,s=this.rules[i]||this.defaultRules[i]||!1;if(s)for(var a in s){var l=s[a];if(a!==p&&a!==E&&""==r)return;switch(a){case E:if("function"!=typeof l)break;if(l(i,r))break;return void this.generateMessage(E,i,l);case p:if(!l)break;if(n.length){var u=!1;if(n.forEach(function(e){t.validateRequired(e)&&(u=!0)}),u)break}else if(this.validateRequired(r))break;return void this.generateMessage(p,i);case"email":if(!l)break;if(this.validateEmail(r))break;return void this.generateMessage("email",i);case v:if(!l)break;if(this.validateMinLength(r,l))break;return void this.generateMessage(v,i,l);case g:if(!l)break;if(this.validateMaxLength(r,l))break;return void this.generateMessage(g,i,l);case"phone":if(!l)break;if(this.validatePhone(r))break;return void this.generateMessage("phone",i);case y:if(!l)break;if(this.validatePassword(r))break;return void this.generateMessage(y,i);case b:if(!l||"object"!==(void 0===l?"undefined":_typeof(l)))break;if(l.default&&this.validateStrengthPass(r))break;if(l.custom){var c=void 0;try{c=new RegExp(l.custom)}catch(e){c=this.REGEXP.strengthPass,console.error("Custom regexp for strength rule is not valid. Default regexp was used.")}if(c.test(r))break}return void this.generateMessage(b,i);case"zip":if(!l)break;if(this.validateZip(r))break;return void this.generateMessage("zip",i);case"remote":if(o)break;if(!l)break;var d=l.url,h=l.successAnswer,f=l.method,m=l.sendParam,c=this.$form.querySelector('input[data-validate-field="'+i+'"]');return this.setterEventListener(c,"keyup",this.handlerKeyup,"remove"),void this.promisesRemote.push(this.validateRemote({name:i,value:r,url:d,method:f,sendParam:m,successAnswer:h}))}}},clearErrors:function(){for(var e=document.querySelectorAll(".js-validation--error-label"),t=0,i=e.length;t<i;++t)e[t].remove();for(var n=0,r=(e=document.querySelectorAll(".js-validation--error-field")).length;n<r;++n)e[n].classList.remove("js-validation--error-field"),e[n].style.border="",e[n].style.color=""},renderErrors:function(){var e=this;if(this.clearErrors(),this.unlockForm(),this.isValidationSuccess=!1,0!==Object.keys(this.result).length){for(var t in this.result){var i=this.result[t].message,n=this.$form.querySelectorAll('[data-validate-field="'+t+'"]'),t=n[n.length-1],n=document.createElement("div");n.innerHTML=i,n.className="js-validation--error-label",t.classList.add("js-validation--error-field"),"checkbox"===t.type||"radio"===t.type?(i=document.querySelector('label[for="'+t.getAttribute("id")+'"]'),"label"===t.parentNode.tagName.toLowerCase()?t.parentNode.parentNode.insertBefore(n,null):i?i.parentNode.insertBefore(n,i.nextSibling):t.parentNode.insertBefore(n,t.nextSibling)):t.parentNode.insertBefore(n,t.nextSibling)}this.tooltipSelectorWrap.length&&(this.state.tooltipsTimer=setTimeout(function(){e.hideTooltips()},this.tooltipFadeOutTime))}else this.isValidationSuccess=!0},hideTooltips:function(){var t=this;document.querySelectorAll(".js-validation--error-label").forEach(function(e){e.classList.add(t.tooltipFadeOutClass)}),this.state.tooltipsTimer=null},lockForm:function(){for(var e=this.$form.querySelectorAll("input, textarea, button, select"),t=0,i=e.length;t<i;++t)e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"},unlockForm:function(){for(var e=this.$form.querySelectorAll("input, textarea, button, select"),t=0,i=e.length;t<i;++t)e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webitFilter="",e[t].style.filter=""}},e.JustValidate=t}(window);
"use strict";var url="https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5",insertCurrenciesData=function(e){var n=document.querySelector(".exchange-rates");e.forEach(function(e){var a=document.createElement("div");a.className="exchange-rates__row",a.innerHTML='\n            <div class="exchange-rates__col">\n                <div class="exchange-rates__name">'.concat(e.ccy,"/").concat(e.base_ccy,'</div>\n            </div>\n            <div class="exchange-rates__col">\n                <div class="exchange-rates__currency">').concat(e.buy,"/").concat(e.sale,"</div>\n            </div>\n        "),n.appendChild(a)})},validateForm=function(e,a){var a={rules:a,messages:{email:"Enter a valid email address",password:"Enter password"},submitHandler:function(e,a){n(a)}},n=function(e){var a=e.email,n=e.password,t=document.querySelector(".user-information__email"),e=document.querySelector(".user-information__password");t&&e&&(t.textContent=a,e.textContent=n,console.log("email : ".concat(a,", password : ").concat(n)))};new JustValidate(e,a)};fetch(url).then(function(e){return e.json()}).then(function(e){return insertCurrenciesData(e)}).catch(function(e){return console.log("ERROR : ".concat(e))}),validateForm(".js-validation",{email:{required:!0,email:!0},password:{required:!0}});